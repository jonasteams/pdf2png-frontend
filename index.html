<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PNG ⇆ PDF Converter</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
  <style>
    body {
      background: #f8fafc;
    }
    /* Bannières fixées gauche/droite */
    .side-banner {
      position: fixed;
      top: 50%;
      transform: translateY(-50%);
      width: 300px;
      height: 600px;
      z-index: 40;
    }
    .banner-left { left: 0; }
    .banner-right { right: 0; }
    /* Cacher les bannières sur mobile */
    @media (max-width: 1024px) {
      .side-banner { display: none; }
    }
  </style>
</head>
<body class="min-h-screen flex flex-col">

  <!-- Navbar -->
  <nav class="bg-white shadow-md">
    <div class="container mx-auto flex justify-center p-4 space-x-8">
      <a href="/?tab=png2pdf" class="text-gray-700 font-semibold hover:text-blue-600">PNG → PDF</a>
      <a href="/?tab=pdf2png" class="text-gray-700 font-semibold hover:text-blue-600">PDF → PNG</a>
    </div>
  </nav>

  <!-- Bannières gauche/droite -->
  <a href="https://ym-iptv.store/subscriptions/" target="_blank" class="side-banner banner-left">
    <img src="https://i.ibb.co/S4GxMd1f/Chat-GPT-Image-15-sept-2025-00-56-13.png" alt="Ad Banner Left" class="w-full h-full object-cover">
  </a>
  <a href="https://ym-iptv.store/subscriptions/" target="_blank" class="side-banner banner-right">
    <img src="https://i.ibb.co/S4GxMd1f/Chat-GPT-Image-15-sept-2025-00-56-13.png" alt="Ad Banner Right" class="w-full h-full object-cover">
  </a>

  <!-- Contenu principal -->
  <main class="flex-grow flex items-center justify-center px-4">
    <div class="bg-white shadow-lg rounded-xl p-8 max-w-lg w-full text-center">
      <h1 class="text-2xl font-bold text-gray-800 mb-4">Convert Your Files</h1>
      <p class="text-gray-600 mb-6">Easily convert PNG ⇆ PDF in seconds</p>
      
      <form id="uploadForm" class="space-y-4">
        <input type="file" id="fileInput" class="block w-full border rounded p-2" required>
        <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
          Convert
        </button>
      </form>
      <div id="result" class="mt-4 text-gray-700"></div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="bg-gray-100 text-center py-4 text-gray-600">
    © 2025 PNG2PDFTool — <a href="terms.html" class="hover:underline">Terms & Privacy</a>
  </footer>

  <!-- Script -->
  <script>
    const backendURL = "https://pdf2png-5f8y.onrender.com";
    const form = document.getElementById("uploadForm");
    const fileInput = document.getElementById("fileInput");
    const resultDiv = document.getElementById("result");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      const file = fileInput.files[0];
      if (!file) return;

      const formData = new FormData();
      formData.append("file", file);

      try {
        const res = await fetch(\`\${backendURL}/convert\`, {
          method: "POST",
          body: formData,
        });

        if (!res.ok) throw new Error("Conversion failed");

        const blob = await res.blob();
        const url = window.URL.createObjectURL(blob);

        const link = document.createElement("a");
        link.href = url;
        link.download = "converted-file.pdf"; 
        link.click();

        resultDiv.textContent = "✅ File converted successfully!";
      } catch (err) {
        resultDiv.textContent = "❌ Error: " + err.message;
      }
    });
  </script>

</body>
</html>
